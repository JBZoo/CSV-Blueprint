#
# JBZoo Toolbox - Csv-Blueprint.
#
# This file is part of the JBZoo Toolbox project.
# For the full copyright and license information, please view the LICENSE
# file that was distributed with this source code.
#
# @license    MIT
# @copyright  Copyright (C) JBZoo.com, All rights reserved.
# @see        https://github.com/JBZoo/Csv-Blueprint
#

# This schema is invalid because does not match the CSV file (tests/fixtures/demo.csv).


name: Child schema
description: Testing inheritance from parent schema.

includes:
  parent: ./../inherit/parent.yml


filename_pattern:
  inherit: 'parent/filename_pattern'


csv:
  inherit: 'parent/csv'
  header: true


structural_rules:
  inherit: 'parent/structural_rules'
  strict_column_order: true


columns:
  # 0
  - inherit: 'parent/columns/Name'

  # 1
  - inherit: 'parent/columns/Name'
    name: Overridden name by column name

  # 2
  - inherit: 'parent/columns/0:'
    name: Overridden name by column index

  # 3
  - inherit: 'parent/columns/0:Name'
    name: Overridden name by column index and column name

  # 4
  - inherit: 'parent/columns/0:Name'
    name: Overridden name by column index and column name + added rules
    rules:
      length_min: 1

  # 5
  - inherit: 'parent/columns/0:Name'
    name: Overridden name by column index and column name + added aggregate rules
    aggregate_rules:
      nth_num: [ 10, 0.05 ]

  # 6
  - name: Overridden only rules
    rules:
      inherit: 'parent/columns/0:Name/rules'

  # 7
  - name: Overridden only aggregation rules
    aggregate_rules:
      inherit: 'parent/columns/0:Name/aggregate_rules'

  # 8
  - inherit: 'parent/columns/Second Column'
